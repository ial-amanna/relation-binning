{"ast":null,"code":"var _jsxFileName = \"C:\\\\ra_work\\\\relation-discovery-starter\\\\src\\\\components\\\\BinPlot.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport * as d3 from 'd3';\n// const { kmeans } = require('../ml-kmeans');\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  kmeans\n} = require('ml-kmeans');\nconst BinPlot = ({\n  data\n}) => {\n  _s();\n  const svgRef = useRef();\n  const [xAxis, setXAxis] = useState(\"\");\n  const [binSize, setBinSize] = useState(\"1\");\n  const handleXAxisChange = event => {\n    setXAxis(event.target.value);\n  };\n  const handleBinSizeChange = event => {\n    setBinSize(event.target.value);\n  };\n  useEffect(() => {\n    if (data.length > 0) {\n      if (!xAxis) {\n        setXAxis(Object.keys(data[0])[0]);\n      }\n      drawBinPlot();\n    }\n  }, [data, xAxis, binSize]);\n  const renameClusters = (values, centroids, clusters) => {\n    const sortedCentroids = centroids.map((centroid, index) => ({\n      value: centroid.centroid,\n      originalIndex: index\n    })).sort((a, b) => a.value - b.value);\n\n    // Create a mapping from cluster indices to the corresponding values in that cluster\n    const clusterValues = {};\n    values.forEach((value, index) => {\n      const clusterIndex = clusters[index];\n      if (!clusterValues[clusterIndex]) {\n        clusterValues[clusterIndex] = [];\n      }\n      clusterValues[clusterIndex].push(value);\n    });\n\n    // Calculate the min and max values for each cluster\n    const indexToNewName = {};\n    sortedCentroids.forEach((centroid, index) => {\n      const clusterIndex = centroid.originalIndex;\n      const clusterVals = clusterValues[clusterIndex];\n      const minVal = Math.min(...clusterVals);\n      const maxVal = Math.max(...clusterVals);\n      indexToNewName[clusterIndex] = `${minVal} to ${maxVal}`;\n    });\n\n    // Rename clusters based on the new names\n    const renamedClusters = clusters.map(cluster => indexToNewName[cluster]);\n    return renamedClusters;\n  };\n  const drawBinPlot = () => {\n    const svg = d3.select(svgRef.current);\n    svg.selectAll('*').remove();\n\n    // define width and height of the plot\n    const width = 300;\n    const height = 300;\n    const margin = {\n      top: 20,\n      right: 50,\n      bottom: 50,\n      left: 50\n    };\n\n    // define x scale\n    const x = d3.scaleLinear().domain(d3.extent(data, d => +d[xAxis])).nice().range([margin.left, width - margin.right]);\n\n    // apply k-means clustering to the data, remove NaN values\n    const values = data.map(d => +d[xAxis]).filter(d => !isNaN(d));\n    if (values.length === 0) {\n      console.log('No valid data points for binning');\n      return;\n    }\n    const uniqueValues = new Set(values);\n    const effectiveBinSize = Math.min(+binSize, uniqueValues.size);\n    const kmeansResults = kmeans(values.map(d => [d]), effectiveBinSize);\n    // console.log(kmeansResults);\n\n    // map data points to the bins\n    const bins = Array.from({\n      length: effectiveBinSize\n    }, () => []);\n    kmeansResults.clusters.forEach((cluster, i) => {\n      if (cluster >= 0 && cluster < effectiveBinSize) {\n        bins[cluster].push(values[i]);\n      }\n    });\n    const renamedBins = renameClusters(values, kmeansResults.centroids, kmeansResults.clusters);\n\n    // log unique bins\n\n    // renamedClusters.forEach((binName, i) => {\n    //     bins[parseInt(binName.split('/')[0].split(' ')[1]) - 1].push(values[i]);\n    // });\n\n    // const uniqueBinNames = [...new Set(renamedClusters)].sort((a, b) => {\n    //     return parseInt(a.split('/')[0].split(' ')[1]) - parseInt(b.split('/')[0].split(' ')[1]);\n    // });\n    const uniqueBinNames = [...new Set(renamedBins)].sort((a, b) => {\n      return parseInt(a.split(' ')[0]) - parseInt(b.split(' ')[0]);\n    });\n\n    // define y scale\n    const y = d3.scaleBand().domain(d3.range(effectiveBinSize)).range([height - margin.bottom, margin.top]).padding(0.1);\n\n    // draw the x axis\n    const xAxisG = g => g.attr('transform', `translate(0,${height - margin.bottom})`).call(d3.axisBottom(x).ticks(width / 80)).call(g => g.select('.domain').remove());\n\n    // draw the y axis, and label the axis for each\n    const yAxisG = g => g.attr('transform', `translate(${margin.left},0)`).call(d3.axisLeft(y).tickFormat(i => `${renamedBins[i]}`)).call(g => g.select('.domain').remove());\n    svg.append('g').call(xAxisG);\n    svg.append('g').call(yAxisG);\n\n    // draw the bins\n    svg.append('g').selectAll('rect').data(bins).join('rect').attr('x', d => x(d3.min(d))).attr('y', (d, i) => y(i)).attr('width', d => x(d3.max(d)) - x(d3.min(d))).attr('height', y.bandwidth()).attr('fill', 'orange');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-blue-100 w-1/2 text-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        ref: svgRef,\n        width: 300,\n        height: 300\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"xAxis\",\n        children: \"X Axis:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"xAxis\",\n        value: xAxis,\n        onChange: handleXAxisChange,\n        children: data[0] && Object.keys(data[0]).map(key => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: key,\n          children: key\n        }, key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 21\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Bin Size:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: binSize,\n          onChange: handleBinSizeChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 5\n  }, this);\n};\n_s(BinPlot, \"ZmnBOQy5EtzYyUGbykvfq3o7QHU=\");\n_c = BinPlot;\nexport default BinPlot;\nvar _c;\n$RefreshReg$(_c, \"BinPlot\");","map":{"version":3,"names":["React","useRef","useEffect","useState","d3","jsxDEV","_jsxDEV","kmeans","require","BinPlot","data","_s","svgRef","xAxis","setXAxis","binSize","setBinSize","handleXAxisChange","event","target","value","handleBinSizeChange","length","Object","keys","drawBinPlot","renameClusters","values","centroids","clusters","sortedCentroids","map","centroid","index","originalIndex","sort","a","b","clusterValues","forEach","clusterIndex","push","indexToNewName","clusterVals","minVal","Math","min","maxVal","max","renamedClusters","cluster","svg","select","current","selectAll","remove","width","height","margin","top","right","bottom","left","x","scaleLinear","domain","extent","d","nice","range","filter","isNaN","console","log","uniqueValues","Set","effectiveBinSize","size","kmeansResults","bins","Array","from","i","renamedBins","uniqueBinNames","parseInt","split","y","scaleBand","padding","xAxisG","g","attr","call","axisBottom","ticks","yAxisG","axisLeft","tickFormat","append","join","bandwidth","children","className","ref","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","id","onChange","key","type","_c","$RefreshReg$"],"sources":["C:/ra_work/relation-discovery-starter/src/components/BinPlot.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\r\nimport * as d3 from 'd3';\r\n// const { kmeans } = require('../ml-kmeans');\r\nconst { kmeans } = require('ml-kmeans');\r\nconst BinPlot = ({data}) => {\r\n    const svgRef = useRef();\r\n    const [xAxis,setXAxis] = useState(\"\");\r\n    const [binSize,setBinSize] = useState(\"1\");\r\n\r\n    const handleXAxisChange = (event) => {\r\n        setXAxis(event.target.value);\r\n    };\r\n\r\n    const handleBinSizeChange = (event) => {\r\n        setBinSize(event.target.value);\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        if (data.length > 0) {\r\n            if(!xAxis){\r\n                setXAxis(Object.keys(data[0])[0]);\r\n            }\r\n            drawBinPlot();\r\n        }\r\n    }, [data, xAxis, binSize]);\r\n\r\n\r\n\r\n    const renameClusters = (values, centroids, clusters) => {\r\n        const sortedCentroids = centroids\r\n            .map((centroid, index) => ({value: centroid.centroid, originalIndex: index}))\r\n            .sort((a, b) => a.value - b.value);\r\n        \r\n        // Create a mapping from cluster indices to the corresponding values in that cluster\r\n        const clusterValues = {};\r\n        values.forEach((value, index) => {\r\n            const clusterIndex = clusters[index];\r\n            if (!clusterValues[clusterIndex]) {\r\n                clusterValues[clusterIndex] = [];\r\n            }\r\n            clusterValues[clusterIndex].push(value);\r\n        });\r\n    \r\n        // Calculate the min and max values for each cluster\r\n        const indexToNewName = {};\r\n        sortedCentroids.forEach((centroid, index) => {\r\n            const clusterIndex = centroid.originalIndex;\r\n            const clusterVals = clusterValues[clusterIndex];\r\n            const minVal = Math.min(...clusterVals);\r\n            const maxVal = Math.max(...clusterVals);\r\n            indexToNewName[clusterIndex] = `${minVal} to ${maxVal}`;\r\n        });\r\n    \r\n        // Rename clusters based on the new names\r\n        const renamedClusters = clusters.map(cluster => indexToNewName[cluster]);\r\n        return renamedClusters;\r\n    };\r\n    \r\n\r\n        \r\n\r\n    const drawBinPlot = () => {\r\n        const svg = d3.select(svgRef.current);\r\n        svg.selectAll('*').remove();\r\n\r\n        // define width and height of the plot\r\n        const width = 300;\r\n        const height = 300;\r\n        const margin = { top: 20, right: 50, bottom: 50, left: 50 };\r\n\r\n        // define x scale\r\n        const x = d3.scaleLinear()\r\n            .domain(d3.extent(data, d => +d[xAxis])).nice()\r\n            .range([margin.left, width - margin.right]);\r\n\r\n        // apply k-means clustering to the data, remove NaN values\r\n        const values = data.map(d => +d[xAxis]).filter(d => !isNaN(d));\r\n        if (values.length === 0) {\r\n            console.log('No valid data points for binning');\r\n            return;\r\n        }\r\n        const uniqueValues = new Set(values);\r\n        const effectiveBinSize = Math.min(+binSize, uniqueValues.size);\r\n\r\n        const kmeansResults = kmeans(values.map(d => [d]), effectiveBinSize);\r\n        // console.log(kmeansResults);\r\n\r\n    \r\n\r\n        // map data points to the bins\r\n        const bins = Array.from({length: effectiveBinSize}, () => []);\r\n        kmeansResults.clusters.forEach((cluster, i) => {\r\n            if (cluster >=0 && cluster < effectiveBinSize) {\r\n            bins[cluster].push(values[i]);\r\n            }\r\n        });\r\n\r\n        const renamedBins = renameClusters(values, kmeansResults.centroids , kmeansResults.clusters);\r\n\r\n        // log unique bins\r\n\r\n        // renamedClusters.forEach((binName, i) => {\r\n        //     bins[parseInt(binName.split('/')[0].split(' ')[1]) - 1].push(values[i]);\r\n        // });\r\n\r\n        // const uniqueBinNames = [...new Set(renamedClusters)].sort((a, b) => {\r\n        //     return parseInt(a.split('/')[0].split(' ')[1]) - parseInt(b.split('/')[0].split(' ')[1]);\r\n        // });\r\n        const uniqueBinNames = [...new Set(renamedBins)].sort((a, b) => {\r\n            return parseInt(a.split(' ')[0]) - parseInt(b.split(' ')[0]);\r\n        });\r\n\r\n\r\n        // define y scale\r\n        const y = d3.scaleBand()\r\n            .domain(d3.range(effectiveBinSize))\r\n            .range([height - margin.bottom, margin.top])\r\n            .padding(0.1);\r\n        \r\n        // draw the x axis\r\n        const xAxisG = g => g\r\n        .attr('transform', `translate(0,${height - margin.bottom})`)\r\n        .call(d3.axisBottom(x).ticks(width / 80))\r\n        .call(g => g.select('.domain').remove());\r\n\r\n        // draw the y axis, and label the axis for each\r\n        const yAxisG = g => g\r\n        .attr('transform', `translate(${margin.left},0)`)\r\n        .call(d3.axisLeft(y).tickFormat (i => `${renamedBins[i]}`))\r\n        .call(g => g.select('.domain').remove());\r\n\r\n   \r\n\r\n        svg.append('g').call(xAxisG);\r\n        svg.append('g').call(yAxisG);\r\n\r\n        // draw the bins\r\n        svg.append('g')\r\n        .selectAll('rect')\r\n        .data(bins)\r\n        .join('rect')\r\n        .attr('x', d => x(d3.min(d)))\r\n        .attr('y', (d, i) => y(i))\r\n        .attr('width', d => x(d3.max(d)) - x(d3.min(d)))\r\n        .attr('height', y.bandwidth())\r\n        .attr('fill', 'orange');\r\n\r\n    }\r\n\r\n    return (\r\n    <div>\r\n        <div className='bg-blue-100 w-1/2 text-sm'>\r\n            <svg ref={svgRef} width={300} height={300}></svg>\r\n\r\n            <label htmlFor=\"xAxis\">X Axis:</label>\r\n            <select id=\"xAxis\" value={xAxis} onChange={handleXAxisChange}>\r\n                {data[0] && Object.keys(data[0]).map(key => (\r\n                    <option key={key} value={key}>{key}</option>\r\n                ))}\r\n            </select>\r\n            <label>\r\n                Bin Size:\r\n                <input type=\"number\" value={binSize} onChange={handleBinSizeChange} />\r\n            </label>\r\n        </div>\r\n    </div>\r\n    );\r\n};\r\n\r\nexport default BinPlot;\r\n\r\n      \r\n        "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}